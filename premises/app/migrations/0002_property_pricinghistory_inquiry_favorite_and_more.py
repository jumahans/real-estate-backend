# Generated by Django 5.2.10 on 2026-01-20 20:43

import django.core.validators
import django.db.models.deletion
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('app', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Property',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('property_type', models.CharField(choices=[('apartment', 'Apartment'), ('house', 'House'), ('villa', 'Villa'), ('townhouse', 'Townhouse'), ('condo', 'Condo'), ('studio', 'Studio'), ('penthouse', 'Penthouse'), ('duplex', 'Duplex'), ('bungalow', 'Bungalow'), ('mansion', 'Mansion'), ('residential_land', 'Residential Land'), ('commercial_land', 'Commercial Land'), ('agricultural_land', 'Agricultural Land'), ('industrial_land', 'Industrial Land'), ('mixed_use_land', 'Mixed Use Land'), ('vacant_land', 'Vacant Land'), ('office', 'Office Space'), ('retail', 'Retail Space'), ('warehouse', 'Warehouse'), ('restaurant', 'Restaurant'), ('hotel', 'Hotel'), ('shopping_mall', 'Shopping Mall'), ('business_park', 'Business Park')], max_length=30)),
                ('listing_type', models.CharField(choices=[('sale', 'For Sale'), ('rent', 'For Rent'), ('lease', 'For Lease')], default='sale', max_length=10)),
                ('status', models.CharField(choices=[('available', 'Available'), ('rented', 'Rented'), ('sold', 'Sold'), ('maintenance', 'Under Maintenance'), ('reserved', 'Reserved'), ('pending', 'Pending')], default='available', max_length=20)),
                ('price', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.01'))])),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('price_negotiable', models.BooleanField(default=False)),
                ('price_per_acre', models.DecimalField(blank=True, decimal_places=2, help_text='Calculated price per acre for land', max_digits=12, null=True)),
                ('price_per_sqft', models.DecimalField(blank=True, decimal_places=2, help_text='Price per square foot', max_digits=10, null=True)),
                ('bedrooms', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('bathrooms', models.DecimalField(blank=True, decimal_places=1, max_digits=3, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.5'))])),
                ('area_sqft', models.DecimalField(blank=True, decimal_places=2, help_text='Building area in square feet', max_digits=10, null=True)),
                ('floor_number', models.IntegerField(blank=True, null=True)),
                ('total_floors', models.IntegerField(blank=True, null=True)),
                ('year_built', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1800), django.core.validators.MaxValueValidator(2100)])),
                ('land_size_acres', models.DecimalField(blank=True, decimal_places=4, help_text='Total land size in acres', max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0001'))])),
                ('land_size_sqft', models.DecimalField(blank=True, decimal_places=2, help_text='Total land size in square feet', max_digits=12, null=True)),
                ('land_size_sqm', models.DecimalField(blank=True, decimal_places=2, help_text='Total land size in square meters', max_digits=12, null=True)),
                ('frontage_feet', models.DecimalField(blank=True, decimal_places=2, help_text='Street frontage in feet', max_digits=8, null=True)),
                ('depth_feet', models.DecimalField(blank=True, decimal_places=2, help_text='Lot depth in feet', max_digits=8, null=True)),
                ('is_corner_lot', models.BooleanField(default=False)),
                ('is_waterfront', models.BooleanField(default=False)),
                ('has_water_access', models.BooleanField(default=False)),
                ('has_electricity', models.BooleanField(default=False)),
                ('has_road_access', models.BooleanField(default=False)),
                ('has_sewer', models.BooleanField(default=False)),
                ('has_water_connection', models.BooleanField(default=False)),
                ('has_gas_connection', models.BooleanField(default=False)),
                ('zoning_type', models.CharField(blank=True, choices=[('residential', 'Residential'), ('commercial', 'Commercial'), ('industrial', 'Industrial'), ('agricultural', 'Agricultural'), ('mixed_use', 'Mixed Use'), ('recreational', 'Recreational'), ('institutional', 'Institutional'), ('conservation', 'Conservation'), ('unzoned', 'Unzoned')], max_length=100, null=True)),
                ('zoning_description', models.TextField(blank=True, help_text='Detailed zoning information', null=True)),
                ('permitted_uses', models.TextField(blank=True, help_text='List of permitted land uses', null=True)),
                ('is_subdivided', models.BooleanField(default=False)),
                ('subdivision_potential', models.BooleanField(default=False, help_text='Can the land be subdivided?')),
                ('min_lot_size', models.DecimalField(blank=True, decimal_places=2, help_text='Minimum lot size per subdivision regulations', max_digits=10, null=True)),
                ('topography', models.CharField(blank=True, choices=[('flat', 'Flat'), ('sloped', 'Sloped'), ('hilly', 'Hilly'), ('mountainous', 'Mountainous'), ('valley', 'Valley'), ('plateau', 'Plateau'), ('undulating', 'Undulating')], max_length=50, null=True)),
                ('soil_type', models.CharField(blank=True, choices=[('clay', 'Clay'), ('sandy', 'Sandy'), ('loam', 'Loam'), ('silt', 'Silt'), ('peat', 'Peat'), ('chalky', 'Chalky'), ('rocky', 'Rocky'), ('mixed', 'Mixed')], max_length=50, null=True)),
                ('elevation_feet', models.DecimalField(blank=True, decimal_places=2, help_text='Elevation above sea level in feet', max_digits=8, null=True)),
                ('slope_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('has_trees', models.BooleanField(default=False)),
                ('is_cleared', models.BooleanField(default=False)),
                ('is_fenced', models.BooleanField(default=False)),
                ('flood_zone', models.CharField(blank=True, help_text='FEMA flood zone designation', max_length=50, null=True)),
                ('is_in_flood_zone', models.BooleanField(default=False)),
                ('wetlands_present', models.BooleanField(default=False)),
                ('environmental_restrictions', models.TextField(blank=True, null=True)),
                ('water_source', models.CharField(blank=True, help_text='Well, municipal, river, etc.', max_length=100, null=True)),
                ('mineral_rights_included', models.BooleanField(default=True)),
                ('is_irrigated', models.BooleanField(default=False)),
                ('irrigation_type', models.CharField(blank=True, help_text='Drip, sprinkler, flood, etc.', max_length=100, null=True)),
                ('crop_history', models.TextField(blank=True, help_text='Previous crops grown on land', null=True)),
                ('farming_equipment_included', models.BooleanField(default=False)),
                ('has_barn', models.BooleanField(default=False)),
                ('has_greenhouse', models.BooleanField(default=False)),
                ('has_storage_facilities', models.BooleanField(default=False)),
                ('road_type', models.CharField(blank=True, help_text='Paved, gravel, dirt, private, etc.', max_length=100, null=True)),
                ('distance_to_main_road_miles', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True)),
                ('has_easement', models.BooleanField(default=False)),
                ('easement_details', models.TextField(blank=True, null=True)),
                ('development_ready', models.BooleanField(default=False)),
                ('building_permits_approved', models.BooleanField(default=False)),
                ('max_building_coverage_percentage', models.DecimalField(blank=True, decimal_places=2, help_text='Maximum percentage of lot that can be built on', max_digits=5, null=True)),
                ('floor_area_ratio', models.DecimalField(blank=True, decimal_places=2, help_text='Ratio of total building floor area to lot size', max_digits=5, null=True)),
                ('max_building_height_feet', models.IntegerField(blank=True, null=True)),
                ('has_parking', models.BooleanField(default=False)),
                ('parking_spaces', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('has_balcony', models.BooleanField(default=False)),
                ('has_elevator', models.BooleanField(default=False)),
                ('has_swimming_pool', models.BooleanField(default=False)),
                ('has_garden', models.BooleanField(default=False)),
                ('has_gym', models.BooleanField(default=False)),
                ('has_security', models.BooleanField(default=False)),
                ('is_furnished', models.BooleanField(default=False)),
                ('pets_allowed', models.BooleanField(default=False)),
                ('has_air_conditioning', models.BooleanField(default=False)),
                ('has_heating', models.BooleanField(default=False)),
                ('address', models.CharField(max_length=300)),
                ('city', models.CharField(db_index=True, max_length=100)),
                ('state', models.CharField(max_length=100)),
                ('country', models.CharField(db_index=True, max_length=100)),
                ('zipcode', models.CharField(max_length=20)),
                ('latitude', models.DecimalField(decimal_places=6, max_digits=9)),
                ('longitude', models.DecimalField(decimal_places=6, max_digits=9)),
                ('formatted_address', models.TextField()),
                ('place_id', models.CharField(blank=True, max_length=255, null=True)),
                ('neighborhood', models.CharField(blank=True, max_length=100, null=True)),
                ('title_deed_number', models.CharField(blank=True, max_length=100, null=True, unique=True)),
                ('parcel_number', models.CharField(blank=True, help_text='Tax parcel/lot number', max_length=100, null=True)),
                ('survey_available', models.BooleanField(default=False)),
                ('last_surveyed_date', models.DateField(blank=True, null=True)),
                ('annual_property_tax', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('tax_assessment_value', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('available_from', models.DateField(blank=True, null=True)),
                ('listing_expiry_date', models.DateField(blank=True, null=True)),
                ('agent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='managed_properties', to=settings.AUTH_USER_MODEL)),
                ('owner', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='owned_properties', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'Properties',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PricingHistory',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('old_price', models.DecimalField(decimal_places=2, max_digits=12)),
                ('new_price', models.DecimalField(decimal_places=2, max_digits=12)),
                ('changed_at', models.DateTimeField(auto_now_add=True)),
                ('reason', models.CharField(blank=True, max_length=200, null=True)),
                ('changed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='price_history', to='app.property')),
            ],
            options={
                'verbose_name_plural': 'Pricing Histories',
                'ordering': ['-changed_at'],
            },
        ),
        migrations.CreateModel(
            name='Inquiry',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inquirer_name', models.CharField(max_length=200)),
                ('inquirer_email', models.EmailField(max_length=254)),
                ('inquirer_phone', models.CharField(blank=True, max_length=20, null=True)),
                ('message', models.TextField()),
                ('status', models.CharField(choices=[('new', 'New'), ('contacted', 'Contacted'), ('scheduled', 'Visit Scheduled'), ('closed', 'Closed')], default='new', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('responded_at', models.DateTimeField(blank=True, null=True)),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='inquiries', to=settings.AUTH_USER_MODEL)),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inquiries', to='app.property')),
            ],
            options={
                'verbose_name_plural': 'Inquiries',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Favorite',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('added_at', models.DateTimeField(auto_now_add=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='favorites', to=settings.AUTH_USER_MODEL)),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='favorited_by', to='app.property')),
            ],
            options={
                'ordering': ['-added_at'],
            },
        ),
        migrations.CreateModel(
            name='PropertyDocument',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('document_type', models.CharField(choices=[('title_deed', 'Title Deed'), ('survey', 'Survey Report'), ('zoning', 'Zoning Document'), ('permit', 'Building Permit'), ('tax', 'Tax Document'), ('environmental', 'Environmental Report'), ('soil_test', 'Soil Test Report'), ('appraisal', 'Appraisal Report'), ('other', 'Other')], max_length=50)),
                ('document', models.FileField(upload_to='property_documents/%Y/%m/%d/')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True, null=True)),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('is_public', models.BooleanField(default=False, help_text='Whether this document is publicly accessible')),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documents', to='app.property')),
                ('uploaded_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='PropertyImage',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(upload_to='properties/%Y/%m/%d/')),
                ('caption', models.CharField(blank=True, max_length=200)),
                ('is_primary', models.BooleanField(default=False)),
                ('image_type', models.CharField(choices=[('exterior', 'Exterior'), ('interior', 'Interior'), ('aerial', 'Aerial View'), ('land', 'Land View'), ('boundary', 'Boundary'), ('infrastructure', 'Infrastructure'), ('surrounding', 'Surrounding Area'), ('document', 'Document/Map')], default='exterior', max_length=50)),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='app.property')),
            ],
            options={
                'ordering': ['-is_primary', 'uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='PropertyView',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('viewer_ip', models.GenericIPAddressField(blank=True, null=True)),
                ('viewed_at', models.DateTimeField(auto_now_add=True)),
                ('session_id', models.CharField(blank=True, max_length=100, null=True)),
                ('user_agent', models.TextField(blank=True, null=True)),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='views', to='app.property')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-viewed_at'],
            },
        ),
        migrations.DeleteModel(
            name='Notification',
        ),
        migrations.AddIndex(
            model_name='property',
            index=models.Index(fields=['status'], name='app_propert_status_e28459_idx'),
        ),
        migrations.AddIndex(
            model_name='property',
            index=models.Index(fields=['property_type'], name='app_propert_propert_e50f35_idx'),
        ),
        migrations.AddIndex(
            model_name='property',
            index=models.Index(fields=['listing_type'], name='app_propert_listing_b979ab_idx'),
        ),
        migrations.AddIndex(
            model_name='property',
            index=models.Index(fields=['country', 'city'], name='app_propert_country_7aa626_idx'),
        ),
        migrations.AddIndex(
            model_name='property',
            index=models.Index(fields=['price'], name='app_propert_price_3aec63_idx'),
        ),
        migrations.AddIndex(
            model_name='property',
            index=models.Index(fields=['land_size_acres'], name='app_propert_land_si_6c1f8f_idx'),
        ),
        migrations.AddIndex(
            model_name='property',
            index=models.Index(fields=['zoning_type'], name='app_propert_zoning__1ccd53_idx'),
        ),
        migrations.AddIndex(
            model_name='property',
            index=models.Index(fields=['is_waterfront'], name='app_propert_is_wate_65c714_idx'),
        ),
        migrations.AddIndex(
            model_name='property',
            index=models.Index(fields=['-created_at'], name='app_propert_created_c795ca_idx'),
        ),
        migrations.AddIndex(
            model_name='pricinghistory',
            index=models.Index(fields=['property', '-changed_at'], name='app_pricing_propert_bd4bc4_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='favorite',
            unique_together={('user', 'property')},
        ),
        migrations.AddIndex(
            model_name='propertyview',
            index=models.Index(fields=['property', '-viewed_at'], name='app_propert_propert_4d8369_idx'),
        ),
    ]
